<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>GTA 5 RP | –ü—Ä–∏–±—ã–ª—å 24/7 ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</title>
    <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAABILAAASCwAAAAAAAAAAAAAAm/8AAJv/AwCb/0MAm/+rAJv/5gCb//wAm///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//wAm//mAJv/qwCb/0MAm/8DAJv/AACb/wIAm/9lAJv/6QCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv/6QCb/2UAm/8CAJv/QwCb/+YAm///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv/5gCb/0MAm/+nAJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv/pwCb/+IAm///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am//iAJv/+QCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJr//wCa//8Am///AJv//wCb//8Am///AJr//wCa//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//kAm///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJr//wuf//8kqf//O7L//0q4//9Ru///Ubv//0q4//87sv//I6n//wuf//8Amv//AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wme//87sv//bcb//4LO//+I0P//idH//4nR//+J0f//idH//4jQ//+Czv//bMX//zqy//8Jnv//AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Pof//W7///4fQ//+J0f//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+J0f//htD//1q+//8OoP//AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///Bp3//1e9//+J0f//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//iNH//1W8//8Fnf//AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCa//8vrf//hM///4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//g8///y2s//8Amv//AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///BJz//1/A//+J0f//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+J0f//XL///wOc//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Uo///ecr//4jQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4jQ//93yv//EqL//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJr//ySp//+Dzv//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4LO//8iqP//AJr//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Amv//MK7//4bQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//hs///y6t//8Amv//AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCa//81sP//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//M6///wCa//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJr//zSv//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//8xrv//AJr//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Amv//K6z//4XP//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//hM///ymr//8Amv//AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCa//8cpv//f83//4jQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4jQ//9+zP//GqX//wCa//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wuf//9uxv//idH//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//idH//2zF//8Jn///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//0i3//+J0f//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+I0f//Rrb//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Amv//FqT//3XJ//+J0f//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//idH//3PI//8Vo///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///L63//33M//+J0f//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4fQ//+H0P//h9D//4nR//98zP//La3//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Bm///Kqz//23G//+H0P//idH//4jR//+I0P//iND//4jQ//+I0P//idH//4nR//+G0P//bMb//ymr//8Bm///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Amv//DqD//zaw//9bv///cMf//3rL//9+zf//fs3//3rL//9wx///W77//zWw//8NoP//AJr//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJr//wOc//8Ln///FKP//xml//8Zpf//FKP//wuf//8CnP//AJr//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv/+QCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Amv//AJr//wCa//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//kAm//hAJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv/4QCb/6UAm///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am/+lAJv/PwCb/+QAm///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv/5ACb/z8Am/8BAJv/YACb/+UAm///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb/+UAm/9gAJv/AQCb/wAAm/8CAJv/PgCb/6MAm//gAJv/9wCb//4Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am///AJv//wCb//8Am//+AJv/9wCb/+AAm/+jAJv/PgCb/wIAm/8AgAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAE=" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
      .section-card { margin-bottom: 1.25rem; }
      td, th { vertical-align: middle; }
      .hint { font-size: .95rem; color: #6c757d; }
      .info-block { border-left: 4px solid #0d6efd; background:#f8f9fa; }
      body.bg-light tr.group-divider td { border-bottom: 2px solid rgba(0,0,0,.5) !important; }
      tr.group-divider td { border-bottom: 2px solid rgba(255,255,255,.5) !important; }
      .form-select.select-danger { background-color: var(--bs-danger-bg-subtle); border-color: var(--bs-danger-border-subtle); }
      .form-select.select-success { background-color: var(--bs-success-bg-subtle); border-color: var(--bs-success-border-subtle); }
    </style>
  </head>
  <body class="bg-light">
    <div class="position-absolute top-0 end-0 m-3 z-3">
      <button id="toggle-theme" class="btn btn-sm rounded-circle d-flex align-items-center justify-content-center" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É" style="width:36px;height:36px;font-size:1.3rem;line-height:1;opacity:.7;">
        üåì
      </button>
    </div>
    <main class="container my-3 mb-0">

      <div class="alert alert-info d-flex align-items-center mb-3" role="alert">
        <svg class="bi flex-shrink-0 me-2" width="24" height="24" fill="currentColor" viewBox="0 0 512 512"><path d="M446.17 97.44c-44.92-44.59-118.08-44.59-163 0l-27.17 27-27.17-27c-44.92-44.59-118.08-44.59-163 0a113.64 113.64 0 000 161.8C78.44 271.8 250 442 256 448c5.5-5.59 178.05-176.63 190.17-188.76a113.64 113.64 0 000-161.8zm-22.65 139.61L256 403.32 88.48 237.05a82.19 82.19 0 01-24.55-58.71c-.88-44.63 38.67-83.82 83.4-82.85 43.65-4.1 80.52 47.92 108.67 73.6 28.4-25.79 64.84-77.59 108.67-73.6 72.45-1.87 111.72 91.66 58.85 141.56z"/></svg>
        <div>
          –í–æ–∑–º–æ–∂–Ω—ã —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –Ω–∞ +/- 1$ –∑–∞ 1 –µ–¥–∏–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞. –ë—É–¥—É —Ä–∞–¥ –ª—é–±–æ–π –ø–æ–º–æ—â–∏ –≤ –ø—Ä–∞–≤–∫–∞—Ö. Discord: d1KdaT
        </div>
      </div>

      <div class="row g-3">
        <div class="col-12 col-xl-4">
          <div class="card section-card shadow-sm">
            <div class="card-body">
              <h5 class="card-title mb-3">–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞</h5>
              <label class="form-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (—É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º—É–ª–∞—Ö)</label>
              <input id="I3" type="number" step="1" min="1" class="form-control" placeholder="1" value="1" required>
              <div class="hint mt-2">–≠—Ç–æ—Ç –º–Ω–æ–∂–∏—Ç–µ–ª—å –≤–ª–∏—è–µ—Ç –Ω–∞ —Ü–µ–Ω—É, –ø—Ä–∏–±—ã–ª—å, –≤–µ—Å –∏ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ –≤—Å–µ–º –ø–æ–∑–∏—Ü–∏—è–º.</div>
            </div>
          </div>

          <div class="card section-card shadow-sm">
            <div class="card-body">
              <h5 class="card-title mb-3">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</h5>
              <div class="row gy-3">
                <div class="col-12">
                  <label class="form-label">–ù–∞—Ü–µ–Ω–∫–∞ % (0‚Äì60)</label>
                  <input id="I7" type="number" step="1" min="0" max="60" class="form-control" placeholder="0" inputmode="numeric">
                </div>
                <div class="col-12">
                  <label class="form-label">–ù–∞–ª–æ–≥ % (0‚Äì50)</label>
                  <input id="I10" type="number" step="1" min="5" max="50" class="form-control" placeholder="14" inputmode="numeric">
                </div>
                <div class="col-12">
                  <label class="form-label">–¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞ ($)</label>
                  <input id="I13" type="number" step="1" min="0" class="form-control" placeholder="9" inputmode="numeric">
                </div>
                <div class="col-12">
                  <label class="form-label">–¶–µ–Ω–∞ –∑–∞ –¥–æ—Å—Ç–∞–≤–∫—É ($)</label>
                  <input id="I16" type="number" step="1" min="0" class="form-control" placeholder="1500" inputmode="numeric">
                </div>
                <div class="col-12">
                  <label class="form-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –¥–æ—Å—Ç–∞–≤–∫–µ (—à—Ç.)</label>
                  <input id="I19" type="number" step="1" min="1" class="form-control" placeholder="240" inputmode="numeric">
                </div>
                <div class="col-12">
                  <label class="form-label">–í—ã–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞–ª–æ–≥–∞ (Epsilon) ‚Äî 500 —Ä–µ–ø—É—Ç–∞—Ü–∏–∏</label>
                  <select id="K7" class="form-select">
                    <option>–ù–∞–ª–æ–≥ –≤–∫–ª—é—á–µ–Ω</option>
                    <option>–ù–∞–ª–æ–≥ –≤—ã–∫–ª—é—á–µ–Ω</option>
                  </select>
                </div>
                <div class="col-12">
                  <label class="form-label">–í—ã–∫–ª—é—á–µ–Ω–∏–µ —Å–ø–∏—Å–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ (Epsilon) ‚Äî 250 —Ä–µ–ø—É—Ç–∞—Ü–∏–∏</label>
                  <select id="K10" class="form-select">
                    <option>–°–ø–∏—Å–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ</option>
                    <option>–°–ø–∏—Å–∞–Ω–∏–µ –≤—ã–∫–ª—é—á–µ–Ω–æ</option>
                  </select>
                </div>
                <div class="col-12"><button id="resetBtn" class="btn btn-outline-secondary w-100">–°–±—Ä–æ—Å–∏—Ç—å</button></div>
                <div class="col-12"><button id="clearBtn" class="btn btn-outline-danger w-100">–û—á–∏—Å—Ç–∏—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ</button></div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-12 col-xl-8">
          <div id="sections"></div>
        </div>
      </div>
    </main>
    <footer class="text-center text-secondary mb-3 small">
      –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞ <strong><a href="https://boosty.to/d1kdat">d1KdaT</a></strong> –ø—Ä–∏ –ø–æ–º–æ—â–∏ ChatGPT –∏–∑ <a href="https://docs.google.com/spreadsheets/d/1Key68AdEVmRJJ9jfz2dBSfE_Jsk-8IAwoDK0Xp6uBCQ">Google-—Ç–∞–±–ª–∏—Ü—ã</a>. –î—Ä—É–≥–æ–π –ø—Ä–æ–µ–∫—Ç: <a href="https://gtabp.ru">–ø–æ–¥—Å—á—ë—Ç BP –∑–∞ –∑–∞–¥–∞–Ω–∏—è</a>
    </footer>

    <script>

      (function() {
        const htmlEl = document.documentElement;
        const bodyEl = document.body;
        const btn = document.getElementById('toggle-theme');
        const LS_KEY = 'calc247-theme';

        function getSystemTheme() {
          return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }

        function applyTheme(theme) {
          htmlEl.setAttribute('data-bs-theme', theme);
          // Use bg-light only in light mode to keep default light background;
          // in dark mode let Bootstrap set proper background via variables.
          bodyEl.classList.toggle('bg-light', theme === 'light');
        }

        const saved = localStorage.getItem(LS_KEY);
        const initial = saved || getSystemTheme();
        applyTheme(initial);

        if (btn) {
          btn.addEventListener('click', () => {
            const current = htmlEl.getAttribute('data-bs-theme');
            const next = current === 'dark' ? 'light' : 'dark';
            applyTheme(next);
            localStorage.setItem(LS_KEY, next);
          });
        }
      })();

      const SECTIONS = {"–ï–î–ê": [{"name": "–ß–∏–ø—Å—ã", "base": 37, "n": 2, "wcoef": 0.1}, {"name": "–ë—É—Ä–≥–µ—Ä", "base": 80, "n": 38, "wcoef": 0.1}, {"name": "–®–æ–∫–æ–ª–∞–¥–∫–∞", "base": 45, "n": 10, "wcoef": 0.1}, {"name": "–ü–∏—Ü—Ü–∞", "base": 170, "n": 115, "wcoef": 0.4}, {"name": "–ö–æ–ª–∞", "base": 120, "n": 85, "wcoef": 0.5}, {"name": "–ú—è—Å–æ", "base": 42, "n": 7, "wcoef": 0.1}, {"name": "–Ø–π—Ü–∞ x10", "base": 150, "n": 115, "wcoef": 2.0}, {"name": "–°–∞—Ö–∞—Ä x10", "base": 150, "n": 115, "wcoef": 2.0}, {"name": "–†–∏—Å–æ–≤–∞—è –∫—Ä—É–ø–∞ x10", "base": 150, "n": 115, "wcoef": 2.0}, {"name": "–ú—É–∫–∞ x10", "base": 150, "n": 115, "wcoef": 2.0}, {"name": "–õ–µ–¥ x10", "base": 150, "n": 115, "wcoef": 2.0}, {"name": "–ú–æ–ª–æ–∫–æ x10", "base": 175, "n": 140, "wcoef": 2.0}, {"name": "–û–≤–æ—â–∏ x10", "base": 175, "n": 140, "wcoef": 2.0}, {"name": "–§—Ä—É–∫—Ç—ã x10", "base": 175, "n": 140, "wcoef": 2.0}, {"name": "–ü–∏–≤–æ x10", "base": 120, "n": 60, "wcoef": 1.0}, {"name": "–í–∏–Ω–æ", "base": 2500, "n": 2400, "wcoef": 0.75}], "–ë–´–¢–û–í–´–ï": [{"name": "–°–∏–≥–∞—Ä–µ—Ç—ã", "base": 50, "n": 15, "wcoef": 0.05}], "–ò–ù–°–¢–†–£–ú–ï–ù–¢–´": [{"name": "–†–µ–º–æ–Ω—Ç–Ω—ã–π –Ω–∞–±–æ—Ä (3)", "base": 900, "n": 750, "wcoef": 2.5}, {"name": "–ö–∞–Ω–∏—Å—Ç—Ä–∞ —Å –±–µ–Ω–∑–∏–Ω–æ–º", "base": 300, "n": 200, "wcoef": 1.0}, {"name": "–ë–∞–ª–æ–Ω—á–∏–∫", "base": 33, "n": 0, "wcoef": 0.3}, {"name": "–§–æ–Ω–∞—Ä–∏–∫", "base": 400, "n": 270, "wcoef": 1.5}, {"name": "–ú–æ–ª–æ—Ç–æ–∫", "base": 300, "n": 190, "wcoef": 1.5}, {"name": "–ì–∞–µ—á–Ω—ã–π –∫–ª—é—á", "base": 300, "n": 190, "wcoef": 1.5}, {"name": "–õ–æ–º", "base": 500, "n": 360, "wcoef": 1.5}], "–ü–†–û–ß–ï–ï": [{"name": "–ë–∏–Ω—Ç—ã", "base": 85, "n": 25, "wcoef": 0.2}, {"name": "–ê–ø—Ç–µ—á–∫–∞ –ü–ü", "base": 350, "n": 240, "wcoef": 1.4}, {"name": "–°–∏–º-–∫–∞—Ä—Ç–∞", "base": 2000, "n": 1900, "wcoef": 0.0}, {"name": "–ó–æ–Ω—Ç–∏–∫", "base": 1000, "n": 700, "wcoef": 0.5}, {"name": "–ö–ª—é—á–Ω–∏—Ü–∞", "base": 5000, "n": 4500, "wcoef": 0.1}, {"name": "–ü—É—Å—Ç–∞—è –∑–∞–ø–∏—Å–∫–∞", "base": 100, "n": 10, "wcoef": 0.05}, {"name": "–ë–æ–¥–∏-–∫–∞–º–µ—Ä–∞", "base": 1000, "n": 700, "wcoef": 0.3}]};

      const DEFAULTS = {
        I3: 1,
        I7: 0.0,
        I10: 0.14,
        I13: 9,
        I16: 1500,
        I19: 240,
        K7: "–ù–∞–ª–æ–≥ –≤–∫–ª—é—á–µ–Ω",
        K10: "–°–ø–∏—Å–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ"
      };

      const LS_KEYS = ["I7","I10","I13","I16","I19","K7","K10"];

      function loadLS() {
        const data = { ...DEFAULTS };
        LS_KEYS.forEach(k => {
          const v = localStorage.getItem(k);
          if (v !== null) {
            if (k.startsWith("I")) {
              let num = Number(v);
              if ((k === "I7" || k === "I10") && num > 1) num = num/100;
              data[k] = num;
            } else {
              data[k] = v;
            }
          }
        });
        return data;
      }
      function saveLS(values) {
        const toStore = {
          I7: values.I7,
          I10: values.I10,
          I13: values.I13,
          I16: values.I16,
          I19: values.I19,
          K7: values.K7,
          K10: values.K10
        };
        Object.entries(toStore).forEach(([k,val]) => localStorage.setItem(k, val));
      }
      function clearLS() { LS_KEYS.forEach(k => localStorage.removeItem(k)); }

      const ROUND = (x, d=0) => { const p=Math.pow(10,d); return Math.round((x+Number.EPSILON)*p)/p; };
      const fmtInt = (n) => Number(n||0).toLocaleString("ru-RU");
      const fmtPct0 = (f) => (f).toLocaleString("ru-RU", { style:"percent", minimumFractionDigits:0, maximumFractionDigits:0 });
      const fmtWeight = (w) => Number(w||0).toLocaleString("ru-RU", { minimumFractionDigits:0, maximumFractionDigits:2 });

      function computeJ19(I13, I16, I19) { return (I13*I19 + I16) / I19; }

      function styleKSelects() {
        const tax = document.getElementById("K7");
        const writeoff = document.getElementById("K10");
        if (tax) {
          tax.classList.remove("select-danger","select-success");
          if (tax.value === "–ù–∞–ª–æ–≥ –≤–∫–ª—é—á–µ–Ω") tax.classList.add("select-danger"); else tax.classList.add("select-success");
        }
        if (writeoff) {
          writeoff.classList.remove("select-danger","select-success");
          if (writeoff.value === "–°–ø–∏—Å–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ") writeoff.classList.add("select-danger"); else writeoff.classList.add("select-success");
        }
      }

      const toFracFromPercent = (v) => Number(v)/100;
      function clamp(val, min, max) { val=Math.round(Number(val)||0); if(val<min)val=min; if(val>max)val=max; return val; }

      function getValues() {
        const I7pct = clamp(document.getElementById("I7").value, 0, 60);
        const I10pct = clamp(document.getElementById("I10").value, 0, 50);
        document.getElementById("I7").value = I7pct;
        document.getElementById("I10").value = I10pct;
        return {
          I3: Math.max(1, Math.round(Number(document.getElementById("I3").value || 1))),
          I7: toFracFromPercent(I7pct),
          I10: toFracFromPercent(I10pct),
          I13: Math.round(Number(document.getElementById("I13").value || 0)),
          I16: Math.round(Number(document.getElementById("I16").value || 0)),
          I19: Math.round(Number(document.getElementById("I19").value || 1)),
          K7: document.getElementById("K7").value,
          K10: document.getElementById("K10").value,
        };
      }

      function applyValuesToForm(values) {
        document.getElementById("I3").value = values.I3;
        document.getElementById("I7").value = clamp(Math.round(values.I7*100), 0, 60);
        document.getElementById("I10").value = clamp(Math.round(values.I10*100), 0, 50);
        document.getElementById("I13").value = values.I13;
        document.getElementById("I16").value = values.I16;
        document.getElementById("I19").value = values.I19;
        document.getElementById("K7").value = values.K7;
        document.getElementById("K10").value = values.K10;
        styleKSelects();
      }

      function renderSections() {
        const container = document.getElementById("sections");
        container.innerHTML = "";
        Object.entries(SECTIONS).forEach(([sectionName, items]) => {
          const card = document.createElement("div");
          card.className = "card section-card shadow-sm";
          const tbodyId = "tbody_" + sectionName;
          card.innerHTML = `
            <div class="card-body">
              <h5 class="card-title mb-3">${sectionName}</h5>
              <div class="table-responsive">
                <table class="table table-striped align-middle">
                  <thead>
                    <tr>
                      <th style="min-width:220px">–ü–æ–∑–∏—Ü–∏—è</th>
                      <th class="text-end">–¶–µ–Ω–∞</th>
                      <th class="text-end">–í–µ—Å (–∫–≥)</th>
                      <th class="text-end">–ü—Ä–∏–±—ã–ª—å</th>
                      <th class="text-end">% –æ—Ç —Ü–µ–Ω—ã</th>
                      <th class="text-end">–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞</th>
                    </tr>
                  </thead>
                  <tbody id="${tbodyId}"></tbody>
                </table>
              </div>
            </div>`;
          container.appendChild(card);
        });
      }

      function recalc() {
        const v = getValues();
        const L7 = v.K7 === "–ù–∞–ª–æ–≥ –≤–∫–ª—é—á–µ–Ω" ? 1 : 0;
        const L10 = v.K10 === "–°–ø–∏—Å–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ" ? 1 : 0;
        const J19 = computeJ19(v.I13, v.I16, v.I19);

        Object.entries(SECTIONS).forEach(([sectionName, items]) => {
          const tbody = document.getElementById("tbody_" + sectionName);
          tbody.innerHTML = "";
          items.forEach((item, idx) => {
            const C = ROUND(item.base*(1+v.I7), 0) * v.I3;
            const D = item.wcoef * v.I3;
            const inner = (C/v.I3 - item.n*(1+v.I7)) * (1 - v.I10 * L7);
            const E = ROUND( v.I3 * ( ROUND(inner, 0) - J19 * L10 ), 0 );
            const F = C !== 0 ? E/C : 0;
            const G = C - E;

            const tr = document.createElement("tr");
            if ((idx+1) % 4 === 0 && idx !== items.length - 1) tr.classList.add("group-divider");
            tr.innerHTML = `
              <td>${item.name}</td>
              <td class="text-end">${fmtInt(C)}</td>
              <td class="text-end">${fmtWeight(D)}</td>
              <td class="text-end">${fmtInt(E)}</td>
              <td class="text-end">${fmtPct0(F)}</td>
              <td class="text-end">${fmtInt(G)}</td>`;
            tbody.appendChild(tr);
          });
        });
      }

      function init() {
        renderSections();
        const stored = loadLS();
        applyValuesToForm(stored);
        recalc();

        ["I3","I7","I10","I13","I16","I19","K7","K10"].forEach(id => {
          const el = document.getElementById(id);
          const handler = () => {
            const cur = getValues();
            if (id !== "I3") saveLS(cur);
            styleKSelects();
            recalc();
          };
          el.addEventListener("input", handler);
          el.addEventListener("change", handler);
          el.addEventListener("blur", handler);
        });

        document.getElementById("resetBtn").addEventListener("click", () => {
          applyValuesToForm(DEFAULTS);
          saveLS(DEFAULTS);
          styleKSelects();
          recalc();
        });
        document.getElementById("clearBtn").addEventListener("click", () => {
          clearLS();
          applyValuesToForm(DEFAULTS);
          styleKSelects();
          recalc();
        });
      }

      document.addEventListener("DOMContentLoaded", init);
    </script>
  </body>
</html>
